<!DOCTYPE html>
<html>
<head>
  <style>
    body {
      background-color: #393534;
      overflow: hidden;
      text-align: center;
    }
    
    body, html {
      height: 100%;
      width: 100%;
      margin: 0;
      padding: 0;
    }
    
    svg {
      width: 100%;
      height: 100%;
    }

    .centerDot {
      transition: all 1s;
    }

    .tendril {
      stroke: #ededed;
      stroke-width: 0.75;
      fill: none;
      stroke-dasharray: 1000;
      stroke-dashoffset: 1000;
    }

    .dot {
      transform-origin: center;
    }

    @keyframes drawPath {
      to {
        stroke-dashoffset: 0;
      }
    }

    @keyframes moveDot {
      to {
        offset-distance: 100%;
      }
    }

    @keyframes pulsate {
      0% {
        r: 65;
        stroke-width: 25;
        opacity: 1;
      }
      100% {
        r: 230;
        stroke-width: 0;
        opacity: 0;
      }
    }
  </style>
</head>
<body>
  <svg class="tendrilSVG" viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid meet">
    <defs>
      <circle id="blueDot" cx="0" cy="0" r="11.5" fill="#3cc9f3" stroke="#fff" stroke-miterlimit="10" stroke-width="2"/>
      <circle id="whiteDot" cx="0" cy="0" r="11.5" fill="#fff"/>
      <circle id="orangeDot" cx="0" cy="0" r="11.5" fill="#ff5d55"/>       
    </defs>
    <g class="whole">
      <g class="tendrils">
        <path class="tendril" d="M417,325.15c-1.51,6.35,37.09,47.47,49.86,55.45,6.38,4,13.83,5.9,21.22,7.3a165.76,165.76,0,0,0,36.42,2.93c5.39-.18,11.49-.41,15.36,3.34,5,4.8,3.67,13.76,8.72,18.46,4.72,4.39,12.2,2.8,18.54,4,10.77,2,18.46,14.15,15.72,24.77"/>
        <path class="tendril" d="M420,323.22c5.34,6.5,68.55,28.52,87.89,30.19,19.7,1.7,39.62,3.39,59.18.47,7.36-1.1,14.62-2.85,22-4a161,161,0,0,1,32.33-1.4c12,.6,24.32,2.23,36-.61s23.08-11.53,24.59-23.5"/>
        <path class="tendril" d="M434.5,314.5c25.11-1.57,75.92,2.44,100.31,8.61,16.81,4.25,33.47,10.34,50.81,10.33,6.33,0,12.76-.83,18.93.58,5.64,1.29,10.75,4.37,16.4,5.61s12.63-.09,15.21-5.27"/>
        <path class="tendril" d="M423.25,308.62c7.33,1.27,69.49-27.19,86.52-24.93,5.86.78,10.9,4.35,16.14,7.08,12.51,6.54,27,8.54,41.08,8s28-3.57,41.76-6.57c7.75-1.69,16.58-3.18,23,1.47,0,0,8.74,26.85-5.26,21.85s-55-9-47-21,20-12,22-28"/>
        <path class="tendril" d="M416.73,290.54c5.61,1.83,59-34.1,65.31-46.16,3.87-7.37,4.39-16,6.14-24.1s5.39-16.71,12.85-20.41c3-1.5,6.41-2,9.72-2.71a130.27,130.27,0,0,0,69.18-38.66c3.84-4.13,7.42-8.51,11.51-12.4,5.69-5.41,12.27-9.77,18.26-14.85a98.52,98.52,0,0,0,20.52-24.12c1.54-2.54,3.06-5.27,5.57-6.84,3.51-2.2,8.22-1.59,11.83.45s6.35,5.28,9,8.45"/>
        <path class="tendril" d="M421.09,298.37c10.08-1.91,80-42.87,89.1-64.74,2.26-5.45,3.87-11.2,6.76-16.35s7.4-9.78,13.17-11c3.05-.65,6.22-.32,9.34-.33,22.51-.12,41.07-18.34,63.23-22.28,5.44-1,12.69.13,13.9,5.52"/>
        <path class="tendril" d="M421.19,301.79c5.47,0,61.14-22.71,71.11-30.47s18-17.74,25.45-27.92c3.05-4.15,6.16-8.47,10.58-11.11,6-3.59,13.43-3.51,20.3-4.9,12.15-2.45,23-9.66,35.14-11.92,6.5-1.21,13.26-1,19.6-2.87,11.77-3.53,21.39-14.16,33.68-14,6.23.07,12.22,3,18.44,2.71,4.44-.21,8.61-2,12.78-3.55a97.45,97.45,0,0,1,31.29-5.82,11,11,0,0,1,5.85,1c4,2.36,3.55,8.75.32,12.07s-8.08,4.38-12.63,5.28"/>
        <path class="tendril" d="M410.18,332.53c2.79.82,32.93,30.57,36,36.54s5.07,12.49,8.69,18.15c3.17,4.95,7.6,9.3,9.09,15,.85,3.23.66,6.65,1.3,9.94s2.44,6.7,5.62,7.73c1.52.49,3.2.38,4.7.94,3.37,1.26,4.65,5.24,5.74,8.67s3.1,7.33,6.69,7.64c3.36.28,6.11-3.09,6.44-6.44s-1.09-6.6-2.48-9.67"/>
        <path class="tendril" d="M403.86,334.7c2.66,4.48,24.88,47.68,28,59.28,2.34,8.59,3.78,17.93.61,26.25-1.88,4.93-5.28,9.21-6.85,14.25-2.5,8.06,0,16.81,3.47,24.53s7.78,15.21,9.1,23.55c.75,4.75.49,9.67,1.85,14.28,1.81,6.16,6.3,11.12,9.28,16.81,3.27,6.25,4.68,13.3,7.55,19.74,5.83,13,17.21,22.62,28.22,31.73"/>
      </g>
      <circle class="centerPulse pulse1" cx="400" cy="300" r="65" fill="none" stroke="#393534" stroke-width="25" opacity="1"/>
      <circle class="centerPulse pulse2" cx="400" cy="300" r="65" fill="none" stroke="#393534" stroke-width="15" opacity="0.8"/>
      <circle class="centerPulse pulse3" cx="400" cy="300" r="65" fill="none" stroke="#393534" stroke-width="10" opacity="0.5"/>
      <g class="dotContainer"></g>
      <ellipse class="centerDot" cx="400" cy="300" rx="160" ry="160" fill="#393534" stroke="#ededed" stroke-width="0"/>
    </g>
  </svg>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Helper functions
      function select(s) {
        return document.querySelector(s);
      }
      
      function selectAll(s) {
        return document.querySelectorAll(s);
      }
      
      function randomBetween(min, max) {
        return Math.floor(Math.random() * (max - min + 1) + min);
      }
      
      // Elements
      const dotContainer = select('.dotContainer');
      const tendrils = selectAll('.tendril');
      const dotTypes = ['#blueDot', '#whiteDot', '#orangeDot'];
      
      // Animation setup
      function initAnimation() {
        // Animate center dot
        const centerDot = select('.centerDot');
        centerDot.animate([
          { rx: 160, ry: 160, fill: '#393534', strokeWidth: 0 },
          { rx: 36, ry: 36, fill: '#ff5d55', stroke: '#ff5d55', strokeWidth: 50 }
        ], {
          duration: 1000,
          fill: 'forwards',
          easing: 'cubic-bezier(0.172, 0, 0.952, 1)'
        });
        
        // Animate pulses
        const pulseColors = ['#7AC8F0', '#ff5d55', '#ededed'];
        selectAll('.centerPulse').forEach((pulse, i) => {
          pulse.style.stroke = pulseColors[i % 3];
          pulse.animate([
            { r: 65, strokeWidth: pulse.getAttribute('stroke-width'), opacity: pulse.getAttribute('opacity') },
            { r: 230, strokeWidth: 0, opacity: 0 }
          ], {
            duration: 3000,
            fill: 'forwards',
            easing: 'cubic-bezier(0.19, 1, 0.22, 1)',
            delay: i * 196
          });
        });
        
        // Create and animate path-following dots
        tendrils.forEach((tendril, index) => {
          createTendrilAnimation(tendril, index);
        });
      }
      
      function createTendrilAnimation(tendril, index) {
        const pathData = tendril.getAttribute('d');
        const group = document.createElementNS("http://www.w3.org/2000/svg", 'g');
        dotContainer.appendChild(group);
        
        // Create a dot that will follow the path
        const dotType = dotTypes[Math.floor(Math.random() * dotTypes.length)];
        const dot = document.createElementNS("http://www.w3.org/2000/svg", 'use');
        dot.setAttributeNS('http://www.w3.org/1999/xlink', 'xlink:href', dotType);
        dot.classList.add('dot');
        
        // Randomize dot size
        const scale = randomBetween(30, 90) / 100;
        dot.setAttribute('transform', `scale(${scale})`);
        
        // Add dot to group
        group.appendChild(dot);
        
        // Set up path following using offset-path (modern alternative to GSAP's MorphSVGPlugin)
        dot.style.offsetPath = `path('${pathData}')`;
        dot.style.offsetRotate = 'auto';
        
        // Animation duration
        const duration = randomBetween(4000, 8000);
        
        // Animate dot along path
        const dotAnimation = dot.animate([
          { offsetDistance: '0%' },
          { offsetDistance: '100%' }
        ], {
          duration: duration,
          fill: 'forwards',
          easing: 'cubic-bezier(0.018, 0.318, 0.04, 0.97)'
        });
        
        // Animate path drawing
        tendril.style.strokeDasharray = tendril.getTotalLength();
        tendril.style.strokeDashoffset = tendril.getTotalLength();
        
        const pathAnimation = tendril.animate([
          { strokeDashoffset: tendril.getTotalLength() },
          { strokeDashoffset: 0 }
        ], {
          duration: duration,
          fill: 'forwards',
          easing: 'cubic-bezier(0.018, 0.318, 0.04, 0.97)'
        });
        
        // Rotate the entire group
        const rotationAngle = randomBetween(50, 70);
        group.animate([
          { transform: 'rotate(0deg)' },
          { transform: `rotate(${rotationAngle}deg)` }
        ], {
          duration: duration,
          fill: 'forwards',
          easing: 'cubic-bezier(0.018, 0.318, 0.04, 0.97)'
        });
        
        // Set transform origin
        group.style.transformOrigin = '400px 300px';
        
        // Restart animations to create a loop effect
        const animations = [dotAnimation, pathAnimation];
        animations.forEach(anim => {
          anim.onfinish = function() {
            setTimeout(() => {
              anim.reverse();
              anim.onfinish = function() {
                setTimeout(() => {
                  anim.play();
                }, 1000);
              };
            }, 1000);
          };
        });
      }
      
      // Initialize the animation
      initAnimation();
    });
  </script>
</body>
</html>